# PrismIQ Full-Stack Architecture Document

## Table of Contents

- [PrismIQ Full-Stack Architecture Document](#table-of-contents)
  - [Document Information](./document-information.md)
  - [1. Introduction](./1-introduction.md)
    - [1.1 Purpose](./1-introduction.md#11-purpose)
    - [1.2 Scope](./1-introduction.md#12-scope)
    - [1.3 Key Design Decisions](./1-introduction.md#13-key-design-decisions)
  - [2. High Level Architecture](./2-high-level-architecture.md)
    - [2.1 Technical Summary](./2-high-level-architecture.md#21-technical-summary)
    - [2.2 High-Level Component Diagram](./2-high-level-architecture.md#22-high-level-component-diagram)
    - [2.3 Key Design Principles](./2-high-level-architecture.md#23-key-design-principles)
    - [2.4 Request Flow Overview](./2-high-level-architecture.md#24-request-flow-overview)
  - [3. Tech Stack](./3-tech-stack.md)
    - [3.1 Technology Stack Table](./3-tech-stack.md#31-technology-stack-table)
    - [3.2 Package Manager Enforcement](./3-tech-stack.md#32-package-manager-enforcement)
    - [3.3 Environment Setup](./3-tech-stack.md#33-environment-setup)
  - [4. Data Models](./4-data-models.md)
    - [4.1 MarketContext](./4-data-models.md#41-marketcontext)
    - [4.2 PricingResult](./4-data-models.md#42-pricingresult)
    - [4.3 ChatMessage](./4-data-models.md#43-chatmessage)
    - [4.4 Scenario](./4-data-models.md#44-scenario)
  - [5. API Specification](./5-api-specification.md)
    - [5.1 REST API (OpenAPI 3.1)](./5-api-specification.md#51-rest-api-openapi-31)
  - [6. Components](./6-components.md)
    - [6.1 Backend Components](./6-components.md#61-backend-components)
      - [API Layer](./6-components.md#api-layer)
      - [LangChain Agent](./6-components.md#langchain-agent)
      - [ML Pipeline](./6-components.md#ml-pipeline)
      - [Services](./6-components.md#services)
      - [Rules Engine](./6-components.md#rules-engine)
      - [Explainability](./6-components.md#explainability)
    - [6.2 Frontend Components](./6-components.md#62-frontend-components)
      - [App Shell](./6-components.md#app-shell)
      - [Chat Components](./6-components.md#chat-components)
      - [Visualization Components](./6-components.md#visualization-components)
      - [Context Components](./6-components.md#context-components)
  - [7. External APIs](./7-external-apis.md)
    - [7.1 OpenAI API (LLM Provider)](./7-external-apis.md#71-openai-api-llm-provider)
    - [7.2 n8n Webhook (External Data Enrichment)](./7-external-apis.md#72-n8n-webhook-external-data-enrichment)
  - [8. Core Workflows](./8-core-workflows.md)
    - [8.1 Price Optimization Workflow](./8-core-workflows.md#81-price-optimization-workflow)
    - [8.2 Chat Interaction Workflow](./8-core-workflows.md#82-chat-interaction-workflow)
    - [8.3 Scenario Comparison Workflow](./8-core-workflows.md#83-scenario-comparison-workflow)
  - [9. Database Schema](./9-database-schema.md)
    - [9.1 Source Dataset Schema (dynamic_pricing.xlsx)](./9-database-schema.md#91-source-dataset-schema-dynamicpricingxlsx)
    - [9.2 Serialized Models Schema](./9-database-schema.md#92-serialized-models-schema)
    - [9.3 Scenario Storage Schema (JSON)](./9-database-schema.md#93-scenario-storage-schema-json)
  - [10. Frontend Architecture](./10-frontend-architecture.md)
    - [10.1 Component Organization](./10-frontend-architecture.md#101-component-organization)
    - [10.2 State Management (Zustand)](./10-frontend-architecture.md#102-state-management-zustand)
    - [10.3 Routing Strategy](./10-frontend-architecture.md#103-routing-strategy)
    - [10.4 API Integration Pattern](./10-frontend-architecture.md#104-api-integration-pattern)
  - [11. Backend Architecture](./11-backend-architecture.md)
    - [11.1 Service Architecture](./11-backend-architecture.md#111-service-architecture)
    - [11.2 Dependency Injection](./11-backend-architecture.md#112-dependency-injection)
    - [11.3 Configuration Management](./11-backend-architecture.md#113-configuration-management)
  - [12. Unified Project Structure](./12-unified-project-structure.md)
  - [13. Development Workflow](./13-development-workflow.md)
    - [13.1 Prerequisites](./13-development-workflow.md#131-prerequisites)
    - [13.2 Initial Setup](./13-development-workflow.md#132-initial-setup)
    - [13.3 Development Commands](./13-development-workflow.md#133-development-commands)
    - [13.4 Environment Variables](./13-development-workflow.md#134-environment-variables)
  - [14. Deployment Architecture](./14-deployment-architecture.md)
    - [14.1 Local Deployment (Hackathon)](./14-deployment-architecture.md#141-local-deployment-hackathon)
    - [14.2 Production Reference Architecture](./14-deployment-architecture.md#142-production-reference-architecture)
  - [15. Security and Performance](./15-security-and-performance.md)
    - [15.1 Security Requirements](./15-security-and-performance.md#151-security-requirements)
    - [15.2 Performance Targets](./15-security-and-performance.md#152-performance-targets)
    - [15.3 Caching Strategy](./15-security-and-performance.md#153-caching-strategy)
  - [16. Testing Strategy](./16-testing-strategy.md)
    - [16.1 Testing Pyramid](./16-testing-strategy.md#161-testing-pyramid)
    - [16.2 Test Categories](./16-testing-strategy.md#162-test-categories)
    - [16.3 Test Commands](./16-testing-strategy.md#163-test-commands)
  - [17. Coding Standards](./17-coding-standards.md)
    - [17.1 Critical Rules](./17-coding-standards.md#171-critical-rules)
    - [17.2 Frontend Standards](./17-coding-standards.md#172-frontend-standards)
    - [17.3 Backend Standards](./17-coding-standards.md#173-backend-standards)
  - [18. Error Handling Strategy](./18-error-handling-strategy.md)
    - [18.1 Error Flow](./18-error-handling-strategy.md#181-error-flow)
    - [18.2 Error Codes](./18-error-handling-strategy.md#182-error-codes)
    - [18.3 Graceful Degradation](./18-error-handling-strategy.md#183-graceful-degradation)
  - [19. Monitoring and Observability](./19-monitoring-and-observability.md)
    - [19.1 Logging Strategy](./19-monitoring-and-observability.md#191-logging-strategy)
    - [19.2 Metrics (Future)](./19-monitoring-and-observability.md#192-metrics-future)
    - [19.3 Health Check Implementation](./19-monitoring-and-observability.md#193-health-check-implementation)
  - [Appendix A: Architecture Decision Records](./appendix-a-architecture-decision-records.md)
    - [ADR-001: Monolithic over Microservices](./appendix-a-architecture-decision-records.md#adr-001-monolithic-over-microservices)
    - [ADR-002: Bun over npm/pnpm](./appendix-a-architecture-decision-records.md#adr-002-bun-over-npmpnpm)
    - [ADR-003: uv over pip/poetry](./appendix-a-architecture-decision-records.md#adr-003-uv-over-pippoetry)
    - [ADR-004: File-based Storage](./appendix-a-architecture-decision-records.md#adr-004-file-based-storage)
  - [Appendix B: Glossary](./appendix-b-glossary.md)
  - [Appendix C: Change Log](./appendix-c-change-log.md)
