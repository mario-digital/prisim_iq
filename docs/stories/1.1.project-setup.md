# Story 1.1: Project Setup & Monorepo Structure

## Status: Draft

## Assigned To: Mario

## Story

**As a** developer,
**I want** a properly structured monorepo with backend, frontend, data, and docs directories,
**so that** all team members can contribute to a well-organized codebase from day one.

## Acceptance Criteria

1. Monorepo created with `/backend`, `/frontend`, `/data`, `/docs` directories
2. Backend initialized with Python 3.12+ virtual environment and `pyproject.toml` + `requirements.lock`
3. Frontend initialized with Next.js 15+, TypeScript, Tailwind CSS 4, Recharts
4. Shared types package created at `/packages/shared/` with TypeScript configuration
5. `.gitignore` properly configured for Python, Node, and IDE files
6. Basic `README.md` with setup instructions for both frontend and backend
7. Backend runs with `uvicorn src.main:app --reload` returning health at `/health`
8. Frontend runs with `bun run dev` displaying placeholder page at localhost:3000

## Tasks / Subtasks

- [ ] Task 1: Create root monorepo structure (AC: 1)
  - [ ] Create `/backend`, `/frontend`, `/packages/shared`, `/docs`, `/scripts` directories
  - [ ] Create root `.gitignore` with Python, Node, IDE entries
  - [ ] Create root `README.md` with project overview and setup instructions
  - [ ] Create root `Makefile` with common commands

- [ ] Task 2: Initialize Backend (AC: 2, 7)
  - [ ] Create `backend/pyproject.toml` with Python 3.12+ requirement
  - [ ] Create `backend/.python-version` file with `3.12`
  - [ ] Set up virtual environment with `uv venv`
  - [ ] Create `backend/src/__init__.py` and `backend/src/main.py`
  - [ ] Implement `/health` endpoint returning `{ status: "healthy", version: "1.0.0", timestamp }`
  - [ ] Create `backend/src/config.py` for environment configuration
  - [ ] Create `backend/.env.example` with required variables
  - [ ] Create `backend/requirements.lock` with initial dependencies (fastapi, uvicorn, pydantic)
  - [ ] Verify `uvicorn src.main:app --reload` works

- [ ] Task 3: Initialize Frontend (AC: 3, 8)
  - [ ] Run `bun create next-app frontend` with TypeScript, Tailwind, App Router options
  - [ ] Configure `frontend/package.json` with Bun enforcement
  - [ ] Create `frontend/.npmrc` with `engine-strict=true`
  - [ ] Install shadcn/ui, Recharts, Zustand, ky
  - [ ] Configure `tailwind.config.ts` with custom design tokens
  - [ ] Create placeholder `frontend/src/app/page.tsx` showing "PrismIQ - Dynamic Pricing Copilot"
  - [ ] Create `frontend/.env.local.example` with `NEXT_PUBLIC_API_URL=http://localhost:8000`
  - [ ] Verify `bun run dev` displays placeholder at localhost:3000

- [ ] Task 4: Create Shared Types Package (AC: 4)
  - [ ] Create `packages/shared/package.json`
  - [ ] Create `packages/shared/tsconfig.json`
  - [ ] Create `packages/shared/src/types/index.ts` with exports
  - [ ] Create `packages/shared/src/types/market.ts` with MarketContext type
  - [ ] Create `packages/shared/src/types/pricing.ts` with PricingResult type
  - [ ] Create `packages/shared/src/constants/index.ts`

- [ ] Task 5: Create Development Scripts (AC: 5, 6)
  - [ ] Create `scripts/setup.sh` for initial setup
  - [ ] Create `scripts/dev.sh` to start both services
  - [ ] Update root README with complete setup instructions

## Dev Notes

### Project Structure (from docs/architecture/unified-project-structure.md)
```
prismiq/
├── backend/                        # Python FastAPI
│   ├── src/
│   │   ├── __init__.py
│   │   ├── main.py
│   │   ├── config.py
│   │   ├── api/
│   │   │   ├── __init__.py
│   │   │   ├── dependencies.py
│   │   │   ├── middleware/
│   │   │   └── routers/
│   │   ├── services/
│   │   ├── agent/
│   │   ├── ml/
│   │   ├── rules/
│   │   ├── explainability/
│   │   └── schemas/
│   ├── data/
│   ├── tests/
│   ├── pyproject.toml
│   └── requirements.lock
│
├── frontend/                       # Next.js 15
│   ├── src/
│   │   ├── app/
│   │   ├── components/
│   │   ├── hooks/
│   │   ├── services/
│   │   ├── stores/
│   │   ├── lib/
│   │   └── types/
│   ├── public/
│   ├── tests/
│   ├── package.json
│   └── bun.lockb
│
├── packages/shared/
├── docs/
├── scripts/
└── README.md
```

### Tech Stack Requirements (from docs/architecture/tech-stack.md)
- **Backend:** Python 3.12+, FastAPI 0.115, Pydantic 2.10, uv package manager
- **Frontend:** Next.js 15.1, TypeScript 5.7, Tailwind CSS 4.0, Bun 1.1.38+
- **State:** Zustand 5.0
- **Charts:** Recharts 2.14
- **HTTP:** ky 1.7

### Package Manager Enforcement
- Frontend: Bun only (via `.npmrc` and `package.json` preinstall script)
- Backend: uv with venv

### Testing

- Backend tests: `backend/tests/` using pytest
- Frontend tests: `frontend/tests/` using Bun test
- Run backend tests: `cd backend && pytest`
- Run frontend tests: `cd frontend && bun test`

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-12-02 | 1.0 | Initial story creation | SM Agent |

## Dev Agent Record

### Agent Model Used
(To be filled by Dev Agent)

### Debug Log References
(To be filled by Dev Agent)

### Completion Notes List
(To be filled by Dev Agent)

### File List
(To be filled by Dev Agent)

## QA Results
(To be filled by QA Agent)

